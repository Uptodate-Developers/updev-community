<template>
  <button class="focus:outline-none">
    <div class="flex items-center space-x-1 text-gray-900 hover:text-blue-400">
      <svg
        id="shareico"
        class="h-4 fill-current"
        xmlns="http://www.w3.org/2000/svg"
        width="19"
        height="16"
        viewBox="0 0 19 16"
      >
        <path
          id="Path_51"
          data-name="Path 51"
          d="M1.633,18.993a.73.73,0,0,1-.2,0A.616.616,0,0,1,1,18.378v-.615A11.8,11.8,0,0,1,11.131,6.223V3.615a.614.614,0,0,1,.35-.55.649.649,0,0,1,.663.058l7.6,5.536a.6.6,0,0,1,0,.984l-7.6,5.536a.649.649,0,0,1-.663.058.614.614,0,0,1-.35-.55V12.381a11.873,11.873,0,0,0-7.644,4.564l-1.343,1.8A.64.64,0,0,1,1.633,18.993ZM12.4,4.845V6.765a.622.622,0,0,1-.564.615,10.626,10.626,0,0,0-9.5,8.981l.1-.129A13.184,13.184,0,0,1,11.7,11.064a.645.645,0,0,1,.488.16.607.607,0,0,1,.209.455v1.778l5.909-4.306Z"
          transform="translate(-0.999 -3)"
        />
      </svg>
      <a-popover trigger="hover">
        <template #content>
          <div class="flex space-x-4">
            <vue-goodshare-twitter
              :page_url="postUrl"
              title_social="Twitter"
            ></vue-goodshare-twitter>
            <vue-goodshare-linkedin
              :page_url="postUrl"
              title_social="Linkedin"
            ></vue-goodshare-linkedin>
            <vue-goodshare-facebook
              :page_url="postUrl"
              title_social="Facebook"
            ></vue-goodshare-facebook>
            <vue-goodshare-whatsapp
              :page_url="postUrl"
              title_social="Whatsapp"
            ></vue-goodshare-whatsapp>
            <vue-goodshare-telegram
              :page_url="postUrl"
              title_social="Telegram"
            ></vue-goodshare-telegram>
          </div>
        </template>
        <h3 class="mb-0 text-current font-normal">partager</h3>
      </a-popover>
    </div>
  </button>
</template>
<script lang="ts">
import { computed, defineComponent, PropType } from "vue";
import { PostResponse } from "../../../../api/responses";
import {
  VueGoodshareFacebook,
  VueGoodshareTwitter,
  VueGoodshareLinkedIn,
  VueGoodshareWhatsapp,
  VueGoodshareTelegram,
} from "../../../modules/vue-goodshare/providers";

export default defineComponent({
  components: {
    VueGoodshareFacebook,
    VueGoodshareTwitter,
    VueGoodshareWhatsapp,
    VueGoodshareTelegram,
    "vue-goodshare-linkedin": VueGoodshareLinkedIn,
  },
  props: {
    post: {
      type: Object as () => PropType<PostResponse>,
      required: true,
    },
  },
  setup(props) {
    const baseURL = import.meta.env.VITE_APP_URL;

    const postUrl = computed(() => {
      return `${baseURL}/app/post/${props.post.slug}`;
    });
    return {
      postUrl,
    };
  },
});
</script>
